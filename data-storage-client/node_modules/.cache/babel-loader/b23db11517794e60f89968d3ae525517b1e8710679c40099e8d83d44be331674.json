{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst [files, setFiles] = useState([]);\nconst [loading, setLoading] = useState(true);\nexport const fetchFiles = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    // console.log(\"Token being sent:\", token);\n    const res = await axios.get(\"http://localhost:5000/api/files/list\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    // console.log(\"Files fetched:\", res.data.files);\n    setFiles(res.data.files);\n  } catch (err) {\n    console.error(\"Failed to fetch files\", err);\n  } finally {\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["React","useEffect","useState","axios","files","setFiles","loading","setLoading","fetchFiles","token","localStorage","getItem","res","get","headers","Authorization","data","err","console","error"],"sources":["D:/react/myFiles/data-storage-client/src/components/utils.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n  \r\nconst [files, setFiles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\nexport const fetchFiles = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      // console.log(\"Token being sent:\", token);\r\n      const res = await axios.get(\"http://localhost:5000/api/files/list\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      // console.log(\"Files fetched:\", res.data.files);\r\n      setFiles(res.data.files);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch files\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGH,QAAQ,CAAC,EAAE,CAAC;AACpC,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;AAE9C,OAAO,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C;IACA,MAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,sCAAsC,EAAE;MAClEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IAC9C,CAAC,CAAC;IACF;IACAJ,QAAQ,CAACO,GAAG,CAACI,IAAI,CAACZ,KAAK,CAAC;EAC1B,CAAC,CAAC,OAAOa,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;EAC7C,CAAC,SAAS;IACRV,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}